<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XAUUSD PRO | Institutional Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;700;900&display=swap');
        body { background-color: #050505; color: #e2e8f0; font-family: 'Inter', sans-serif; overflow: hidden; }
        .mono { font-family: 'JetBrains Mono', monospace; }
        .glass { background: rgba(15, 15, 15, 0.6); border: 1px solid rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); }
        .gold-border { border-left: 3px solid #fbbf24; }
        /* Scrollbar minimalista */
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
    </style>
</head>
<body class="h-screen flex flex-col">

    <header class="border-b border-white/5 bg-black/90 p-4 flex justify-between items-center z-50">
        <div class="flex items-center gap-6">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-[#fbbf24] rounded flex items-center justify-center text-black shadow-[0_0_15px_rgba(251,191,36,0.2)]">
                    <i data-lucide="component" size="18"></i>
                </div>
                <span class="text-lg font-black tracking-tighter uppercase">Nexus<span class="text-[#fbbf24]">Gold</span> <span class="text-[10px] text-slate-500 font-mono ml-2 uppercase">v2.0 PRO</span></span>
            </div>
            <div class="h-4 w-[1px] bg-white/10"></div>
            <div class="flex gap-6 text-[10px] font-mono font-bold text-slate-500 uppercase">
                <div class="flex items-center gap-2"><span class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"></span> Server: Global-NY</div>
                <div class="flex items-center gap-2 text-cyan-500">Feed: Real-Time Active</div>
            </div>
        </div>
        <div class="flex gap-4">
            <button class="bg-white/5 hover:bg-white/10 text-white text-[10px] font-bold px-4 py-2 rounded border border-white/10 transition">EXPORT DATA</button>
            <button class="bg-[#fbbf24] text-black text-[10px] font-black px-4 py-2 rounded shadow-lg shadow-[#fbbf24]/10">TERMINAL SETTINGS</button>
        </div>
    </header>

    <div class="flex-1 flex overflow-hidden">
        
        <aside class="w-80 border-r border-white/5 bg-black/40 overflow-y-auto p-4 space-y-6 hidden lg:block">
            <div class="space-y-4">
                <h3 class="text-[10px] font-bold text-slate-500 tracking-widest uppercase">Market Core</h3>
                <div class="glass rounded-xl p-4 space-y-4">
                    <div class="flex justify-between items-center">
                        <span class="text-xs font-medium text-slate-400">XAU/USD</span>
                        <span id="price-main" class="text-sm font-bold text-[#fbbf24] mono">$2,442.50</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-xs font-medium text-slate-400">DXY (Index)</span>
                        <span class="text-sm font-bold text-red-400 mono">104.12 ▼</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-xs font-medium text-slate-400">US10Y Yield</span>
                        <span class="text-sm font-bold text-white mono">4.22%</span>
                    </div>
                </div>
            </div>

            <div class="space-y-4">
                <h3 class="text-[10px] font-bold text-slate-500 tracking-widest uppercase">Neural Sentiment</h3>
                <div class="glass rounded-xl p-4">
                    <div class="flex justify-between mb-2">
                        <span class="text-[10px] font-bold uppercase">Longs vs Shorts</span>
                        <span class="text-[10px] font-bold text-[#fbbf24]">82% Bullish</span>
                    </div>
                    <div class="h-1.5 w-full bg-white/5 rounded-full overflow-hidden">
                        <div class="h-full bg-[#fbbf24] w-[82%]"></div>
                    </div>
                    <p class="text-[10px] text-slate-500 mt-4 leading-relaxed">Alta acumulación detectada en zonas de liquidez institucionales (Smart Money Concepts).</p>
                </div>
            </div>

            <div class="space-y-4">
                <h3 class="text-[10px] font-bold text-slate-500 tracking-widest uppercase">Liquidity Zones</h3>
                <div class="space-y-2">
                    <div class="text-[10px] p-2 rounded bg-green-500/10 border border-green-500/20 flex justify-between">
                        <span class="text-green-400">SUPPORT</span><span class="text-green-400 font-bold">$2,420.00</span>
                    </div>
                    <div class="text-[10px] p-2 rounded bg-red-500/10 border border-red-500/20 flex justify-between">
                        <span class="text-red-400">RESISTANCE</span><span class="text-red-400 font-bold">$2,485.50</span>
                    </div>
                </div>
            </div>
        </aside>

        <main class="flex-1 flex flex-col overflow-hidden">
            
            <div class="h-12 border-b border-white/5 bg-black/20 flex items-center px-6 justify-between">
                <div class="flex gap-6 text-[10px] font-bold text-slate-400">
                    <span class="text-white border-b-2 border-[#fbbf24] h-12 flex items-center">CHART: XAUUSD, 1H</span>
                    <span class="hover:text-white cursor-pointer h-12 flex items-center transition">ORDER FLOW</span>
                    <span class="hover:text-white cursor-pointer h-12 flex items-center transition">MACRO RELEASES</span>
                </div>
                <div class="flex items-center gap-4">
                    <i data-lucide="maximize" class="w-4 h-4 text-slate-500 cursor-pointer"></i>
                    <i data-lucide="settings" class="w-4 h-4 text-slate-500 cursor-pointer"></i>
                </div>
            </div>

            <div class="flex-1 p-6 relative">
                <div id="main-chart" class="w-full h-full rounded-2xl border border-white/5 bg-black/40 shadow-inner"></div>
            </div>

            <footer class="h-24 border-t border-white/5 bg-black p-4 flex gap-6 items-center">
                <div class="w-16 h-16 bg-[#fbbf24]/5 border border-[#fbbf24]/20 rounded flex items-center justify-center text-[#fbbf24]">
                    <i data-lucide="rss" size="24"></i>
                </div>
                <div class="flex-1 overflow-hidden">
                    <h4 id="news-title" class="text-sm font-bold text-white truncate uppercase tracking-tighter">Conectando con el feed de inteligencia global...</h4>
                    <p id="news-meta" class="text-[10px] text-slate-500 mono mt-1 tracking-widest uppercase">Buscando noticias de alto impacto (FED, CPI, Geopolítica)...</p>
                </div>
                <div class="hidden lg:block w-48 text-right">
                    <span class="text-[10px] font-bold text-slate-500 block uppercase">Spread (Live)</span>
                    <span class="text-lg font-bold text-green-500 mono">0.1 PIPS</span>
                </div>
            </footer>
        </main>
    </div>

    <script>
        lucide.createIcons();
        const API_KEY = '59929dc4d0e025025d3e0609c2532afd1aee94f8';

        // CONFIGURACIÓN DE GRÁFICO (MODO PRO)
        const container = document.getElementById('main-chart');
        const chart = LightweightCharts.createChart(container, {
            layout: { background: { color: 'transparent' }, textColor: '#94a3b8' },
            grid: { vertLines: { color: 'rgba(255,255,255,0.01)' }, horzLines: { color: 'rgba(255,255,255,0.01)' } },
            timeScale: { borderVisible: false, timeVisible: true, secondsVisible: false },
            rightPriceScale: { borderVisible: false },
            width: container.clientWidth,
            height: container.clientHeight,
        });

        const goldSeries = chart.addAreaSeries({
            lineColor: '#fbbf24',
            topColor: 'rgba(251, 191, 36, 0.15)',
            bottomColor: 'transparent',
            lineWidth: 2,
            priceFormat: { type: 'price', precision: 2, minMove: 0.01 },
        });

        // Data dummy para el inicio
        goldSeries.setData([
            { time: '2026-01-07', value: 2420.50 },
            { time: '2026-01-08', value: 2435.20 },
            { time: '2026-01-09', value: 2430.80 },
            { time: '2026-01-10', value: 2442.50 }
        ]);

        // FUNCIÓN: PRECIOS REALES (Simulados de alta precisión para XAUUSD)
        let goldPrice = 2442.50;
        function updatePrice() {
            const fluctuation = (Math.random() - 0.5) * 0.4;
            goldPrice += fluctuation;
            document.getElementById('price-main').innerText = `$${goldPrice.toFixed(2)}`;
            const lastTime = new Date().toISOString().split('T')[0];
            goldSeries.update({ time: lastTime, value: goldPrice });
        }

        // FUNCIÓN: NOTICIAS (ALLORIGINS + CRYPTOPANIC)
        async function fetchIntel() {
            try {
                const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(`https://cryptopanic.com/api/v1/posts/?auth_token=${API_KEY}&filter=hot`)}`;
                const response = await fetch(proxyUrl);
                const json = await response.json();
                const data = JSON.parse(json.contents);
                
                const item = data.results.find(n => 
                    n.title.toLowerCase().includes('gold') || 
                    n.title.toLowerCase().includes('fed') || 
                    n.title.toLowerCase().includes('dollar')
                ) || data.results[0];

                if(item) {
                    document.getElementById('news-title').innerText = item.title;
                    document.getElementById('news-meta').innerText = `SOURCE: ${item.source.domain.toUpperCase()} | IMPACT: HIGH | NEURAL SCORE: 98/100`;
                }
            } catch (e) { console.log("Nexus Link Latency..."); }
        }

        updatePrice();
        fetchIntel();
        setInterval(updatePrice, 2000);
        setInterval(fetchIntel, 60000);

        window.addEventListener('resize', () => {
            chart.resize(container.clientWidth, container.clientHeight);
        });
    </script>
</body>
</html>
